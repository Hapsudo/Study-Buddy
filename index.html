<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudyBuddy AI Pro</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4.0.2/dist/tesseract.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.2.1/dist/chart.min.js"></script>
</head>
<body>
    <header class="header">
        <nav class="nav container">
            <a href="#" class="logo">
                <img src="assets/images/study logo 1.jpg" alt="StudyBuddy AI Pro Logo" class="logo-image" style="max-width: 30px; height: auto;">
                <span>StudyBuddy AI Pro</span>
                <span class="beta-badge">Beta</span>
            </a>
            <div class="nav-links">
                <a href="#" class="nav-link" id="navHome" onclick="showSection('main')">Home</a>
                <a href="#" class="nav-link" id="navFeatures" onclick="showSection('ai-features-section')">AI Features</a>
                <a href="#" class="nav-link" id="navDashboard" onclick="showSection('dashboard-section')">School Dashboard</a>
                <a href="#" class="nav-link" id="navPricing" onclick="showSection('pricing-section')">Pricing</a>
                <a href="#" class="nav-link" id="navInvestor" onclick="showModal('investorModal')">For Investors</a>
                <select id="languageSelector" class="language-selector" onchange="changeLanguage()">
                    <option value="en">English</option>
                    <option value="sw">Swahili</option>
                </select>
                <button id="themeToggle" class="theme-toggle-btn">üåô</button>
                <a href="#" class="btn btn-outline" id="loginBtn" onclick="showModal('loginModal')" aria-label="Login to StudyBuddy AI Pro">Login</a>
            </div>
            <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </nav>
    </header>

    <!-- Main Page Content -->
    <main id="main" class="section active">
        <section class="hero-section container">
            <div class="ai-badge">
                <span class="ai-icon">ü§ñ</span>
                <span>Powered by Real AI</span>
            </div>
            <h1 class="hero-title" id="heroTitle">The Future of Homework Help is Here</h1>
            <p class="hero-subtitle" id="heroSubtitle">Real AI integration, photo recognition, and M-Pesa payments. Built for Kenyan students and parents.</p>
            <img src="assets/images/study logo 2.jpg" alt="StudyBuddy AI in action" class="hero-image" style="max-width: 350px; width: 100%; height: auto; display: block; margin: 0 auto;">
            <div class="hero-stats">
                <div class="stat">
                    <span class="stat-number">10K+</span>
                    <span class="stat-label">Students Helped</span>
                </div>
                <div class="stat">
                    <span class="stat-number">95%</span>
                    <span class="stat-label">Accuracy Rate</span>
                </div>
                <div class="stat">
                    <span class="stat-number">24/7</span>
                    <span class="stat-label">Availability</span>
                </div>
            </div>
            <div class="cta-buttons">
              <a href="#" class="btn btn-primary btn-large" id="getStartedBtn" onclick="showModal('tutorialModal')">Get Started</a>
              <a href="#" class="btn btn-secondary btn-large" id="forInvestorsBtn" onclick="showModal('investorModal')">For Investors</a>
            </div>

            <div class="tech-stack">
                <div class="tech-item">
                    <img src="assets/icons/Advanced AI.jpg" alt="AI" class="tech-logo">
                    <span>Advanced AI</span>
                </div>
                <div class="tech-item">
                    <img src="assets/icons/OCR Vision.jpg" alt="OCR" class="tech-logo">
                    <span>OCR Vision</span>
                </div>
                <div class="tech-item">
                    <img src="assets/icons/M-Pesa.png" alt="M-Pesa" class="tech-logo">
                    <span>M-Pesa</span>
                </div>
            </div>
        </section>

        <section class="demo-section container">
            <div class="demo-header">
                <h2>Experience StudyBuddy AI</h2>
                <p>Try our AI-powered homework assistant with real-time responses.</p>
            </div>
            <img src="assets/images/demo.jpg" alt="AI Demo" class="demo-image" style="max-width: 220px; width: 100%; height: auto; display: block; margin: 0 auto;">
            <div class="demo-status">
                <span class="status-dot"></span>
                <span>Live AI Processing</span>
            </div>
            <div class="guided-mode">
                <label for="subjectSelector" class="selector-label">Select Subject</label>
                <select id="subjectSelector" onchange="loadSubjectPrompts()">
                    <option value="math">Math</option>
                    <option value="science">Science</option>
                    <option value="english">English</option>
                    <option value="history">History</option>
                </select>
                <div id="subjectPrompts" class="subject-prompts"></div>
            </div>
            <div class="chat-container ai-enhanced">
                <div class="chat-header">
                    <div class="chat-status">
                        <div class="ai-indicator">
                            <span class="ai-icon">ü§ñ</span>
                            <div class="ai-pulse"></div>
                        </div>
                        <span>StudyBuddy AI - Ready</span>
                    </div>
                    <div class="ai-mode-toggle">
                        <label for="aiMode" class="mode-label">AI Mode:</label>
                        <select id="aiMode" onchange="switchAIMode()">
                            <option value="tutor">Tutor</option>
                            <option value="explainer">Explainer</option>
                            <option value="solver">Solver</option>
                        </select>
                    </div>
                    <div class="grade-selector">
                        <label for="gradeLevel" class="mode-label">Grade:</label>
                        <select id="gradeLevel" onchange="saveGradeLevel()">
                            <option value="primary">Primary</option>
                            <option value="secondary">Secondary</option>
                            <option value="college">College</option>
                        </select>
                    </div>
                </div>
                <div id="chatMessages" style="flex: 1; overflow-y: auto;"></div>
                <div class="chat-input-area">
                    <div id="typingIndicator" class="ai-typing-indicator">
                        <span class="ai-brain-animation">üß†</span>
                        <span>AI is thinking...</span>
                    </div>
                    <div class="ai-input-methods">
                        <button id="textMethodBtn" class="input-method-btn active" onclick="switchInputMethod('text')">
                            <span class="input-method-icon">üìù</span>Text
                        </button>
                        <button id="photoMethodBtn" class="input-method-btn" onclick="switchInputMethod('photo')">
                            <span class="input-method-icon">üì∏</span>Photo
                        </button>
                        <button id="voiceMethodBtn" class="input-method-btn" onclick="switchInputMethod('voice')">
                            <span class="input-method-icon">üé§</span>Voice
                        </button>
                        <button id="paymentMethodBtn" class="input-method-btn" onclick="showPaymentDemo('mpesa')">
                            <span class="input-method-icon">üí∏</span>M-Pesa
                        </button>
                        <button id="airtelMethodBtn" class="input-method-btn" onclick="showPaymentDemo('airtel')">
                            <span class="input-method-icon">üí≥</span>Airtel
                        </button>
                        <button id="cardMethodBtn" class="input-method-btn" onclick="showPaymentDemo('card')">
                            <span class="input-method-icon">üí≥</span>Card
                        </button>
                    </div>
                    <div id="fileUploadArea" class="file-upload-area ai-enhanced" style="display: none;">
                        <div class="ai-vision-indicator">
                            <span class="vision-icon">üëÅÔ∏è</span>
                            <span>AI Vision Ready</span>
                        </div>
                        <input type="file" id="fileInput" accept="image/*">
                        <button class="file-upload-btn ai-btn">Upload Image</button>
                    </div>
                    <div class="chat-input-container">
                        <textarea id="chatInput" class="chat-input ai-enhanced" placeholder="Ask your homework question..."></textarea>
                        <button class="send-btn ai-btn" onclick="sendAIMessage()">
                            <span class="ai-send-icon">üöÄ</span>
                        </button>
                    </div>
                    <div class="ai-quick-actions">
                        <button class="quick-action-btn ai-btn" onclick="askAIQuestion('math')">Math Help</button>
                        <button class="quick-action-btn ai-btn" onclick="askAIQuestion('science')">Science Help</button>
                        <button class="quick-action-btn ai-btn" onclick="showAICapabilities()">AI Capabilities</button>
                        <button class="quick-action-btn ai-btn" onclick="viewPastQuestions()">Past Questions</button>
                    </div>
                    <div class="study-quest-panel">
                        <h3>Study Quest</h3>
                        <div class="quest-progress">
                            <span>Points: <span id="questPoints">0</span></span>
                            <div class="progress-bar">
                                <div id="questProgress" style="width: 0%;"></div>
                            </div>
                            <span>Next Badge: <span id="nextBadge">Math Wizard (50 pts)</span></span>
                            <div id="questBadges"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="market-section container">
            <h2>Market Opportunity</h2>
            <p>Kenya's education sector is ripe for AI-driven solutions.</p>
            <img src="assets/images/Market Opportunity.webp" alt="Market Opportunity" class="market-image" style="max-width: 220px; width: 100%; height: auto; display: block; margin: 0 auto;">
            <div class="market-stats">
                <div class="market-stat">
                    <span class="stat-number">8M+</span>
                    <span class="stat-label">Students in Kenya</span>
                    <span class="stat-detail">Primary and Secondary</span>
                </div>
                <div class="market-stat">
                    <span class="stat-number">70%</span>
                    <span class="stat-label">Mobile Penetration</span>
                    <span class="stat-detail">Access to Smartphones</span>
                </div>
                <div class="market-stat">
                    <span class="stat-number">$1B+</span>
                    <span class="stat-label">EdTech Market</span>
                    <span class="stat-detail">Projected by 2025</span>
                </div>
            </div>
        </section>
    </main>

    <!-- AI Features Section -->
    <section id="ai-features-section" class="ai-features-section container section">
        <h2>AI-Powered Features</h2>
        <div class="ai-features-grid">
            <div class="ai-feature-card primary">
                <div class="feature-header">
                    <h3>Real-Time Answers</h3>
                    <span class="feature-icon">‚ö°</span>
                </div>
                <p>Get instant solutions to homework questions across subjects.</p>
                <div class="feature-specs">
                    <div class="spec">Math, Science, English, History</div>
                    <div class="spec">95% accuracy rate</div>
                    <div class="spec">Multilingual support</div>
                </div>
                <div class="api-info">
                    <span class="api-label">API: Grok (xAI)</span>
                    <span class="integration-status live">Live</span>
                </div>
            </div>
            <div class="ai-feature-card secondary">
                <div class="feature-header">
                    <h3>Photo Recognition</h3>
                    <span class="feature-icon">üì∏</span>
                </div>
                <p>Upload homework photos for AI-driven answers.</p>
                <div class="feature-specs">
                    <div class="spec">OCR powered by Tesseract.js</div>
                    <div class="spec">Supports handwritten notes</div>
                    <div class="spec">Instant text extraction</div>
                </div>
                <div class="api-info">
                    <span class="api-label">API: Tesseract</span>
                    <span class="integration-status ready">Ready</span>
                </div>
            </div>
            <div class="ai-feature-card accent">
                <div class="feature-header">
                    <h3>M-Pesa Payments</h3>
                    <span class="feature-icon">üí∏</span>
                </div>
                <p>Pay for premium features with M-Pesa, Airtel, or card.</p>
                <div class="feature-specs">
                    <div class="spec">Secure transactions</div>
                    <div class="spec">Instant verification</div>
                    <div class="spec">KES 50 - 500 plans</div>
                </div>
                <div class="api-info">
                    <span class="api-label">API: M-Pesa</span>
                    <span class="integration-status demo">Demo</span>
                </div>
            </div>
        </div>
    </section>

    <!-- School Dashboard Section -->
    <section id="dashboard-section" class="dashboard-section container section">
        <h2>School Dashboard</h2>
        <div class="dashboard-image-container">
            <img src="assets/images/School Dashboard.jpg" alt="School Dashboard" class="dashboard-image" style="max-width: 700px; width: 100%; height: auto; display: block; margin: 0 auto;">
        </div>
        <div class="dashboard-grid">
            <div class="dashboard-card">
                <h3>Student Progress</h3>
                <p>Track homework completion and performance metrics.</p>
                <div class="dashboard-stats">
                    <div class="stat-item">
                        <span>Questions Answered</span>
                        <span>400</span>
                    </div>
                    <div class="stat-item">
                        <span>Accuracy</span>
                        <span>95%</span>
                    </div>
                </div>
            </div>
            <div class="dashboard-card">
                <h3>Teacher Insights</h3>
                <p>View student engagement and common topics.</p>
                <div class="dashboard-stats">
                    <div class="stat-item">
                        <span>Active Students</span>
                        <span>120</span>
                    </div>
                    <div class="stat-item">
                        <span>Popular Subject</span>
                        <span>Math</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section id="pricing-section" class="pricing-section container section">
        <h2 class="pricing-title">Pricing Plans</h2>
        <div class="pricing-image-container">
            <img src="assets/images/Pricing Plans.jpg" alt="Pricing Plans" class="pricing-image" style="max-width: 500px; width: 100%; height: auto; display: block; margin: 0 auto;">
        </div>
        <div class="pricing-grid">
            <div class="pricing-card">
                <h3>Basic</h3>
                <span class="pricing-price">KES 50</span>
                <span class="pricing-period">/ month</span>
                <ul class="pricing-features">
                    <li>10 AI questions/day</li>
                    <li>Photo uploads</li>
                    <li>Basic support</li>
                </ul>
                <a href="#" class="btn btn-primary btn-full" onclick="showPaymentDemo('mpesa')">Get Started</a>
            </div>
            <div class="pricing-card">
                <span class="popular-badge">Popular</span>
                <h3>Pro</h3>
                <span class="pricing-price">KES 200</span>
                <span class="pricing-period">/ month</span>
                <ul class="pricing-features">
                    <li>Unlimited AI questions</li>
                    <li>Photo & voice uploads</li>
                    <li>Priority support</li>
                    <li>Study Quest rewards</li>
                </ul>
                <a href="#" class="btn btn-primary btn-full" onclick="showPaymentDemo('mpesa')">Get Started</a>
            </div>
            <div class="pricing-card">
                <h3>School</h3>
                <span class="pricing-price">KES 500</span>
                <span class="pricing-period">/ month</span>
                <ul class="pricing-features">
                    <li>Unlimited AI access</li>
                    <li>School dashboard</li>
                    <li>Teacher insights</li>
                    <li>Dedicated support</li>
                </ul>
                <a href="#" class="btn btn-primary btn-full" onclick="showPaymentDemo('mpesa')">Get Started</a>
            </div>
        </div>
        <div class="revenue-projection">
            <h3>Revenue Projection</h3>
            <div class="projection-item">
                <span>Basic Plan (10K users)</span>
                <span>KES 500K</span>
            </div>
            <div class="projection-item">
                <span>Pro Plan (5K users)</span>
                <span>KES 1M</span>
            </div>
            <div class="projection-item">
                <span>School Plan (1K schools)</span>
                <span>KES 500K</span>
            </div>
            <div class="projection-item">
                <span>Total Monthly Revenue</span>
                <span>KES 2M</span>
            </div>
        </div>
    </section>

    <!-- Modals -->
    <div id="tutorialModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üéì Welcome to StudyBuddy AI Pro</h3>
                <button class="close-btn" onclick="closeModal('tutorialModal')">√ó</button>
            </div>
            <div class="modal-body">
                <div id="tutorialSteps" class="tutorial-steps">
                    <div class="tutorial-step active">
                        <h4>Step 1: Ask a Question</h4>
                        <p>Type your question in the text box or upload a photo.</p>
                    </div>
                    <div class="tutorial-step">
                        <h4>Step 2: Get AI Response</h4>
                        <p>Wait for the AI to process and provide an answer with confidence.</p>
                    </div>
                    <div class="tutorial-step">
                        <h4>Step 3: Earn Points</h4>
                        <p>Earn points and badges via the Study Quest panel!</p>
                    </div>
                </div>
                <div class="tutorial-options">
                    <label><input type="checkbox" onchange="toggleTutorialPreference()"> Don't show again</label>
                    <div>
                        <button id="prevTutorialBtn" class="btn btn-outline" onclick="prevTutorialStep()">Previous</button>
                        <button id="nextTutorialBtn" class="btn btn-primary" onclick="nextTutorialStep()">Next</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="paymentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="paymentModalTitle">M-Pesa Payment Demo</h3>
                <h4 id="paymentModalHeader">Pay with M-Pesa, Airtel, or Card</h4>
                <p id="paymentModalDesc">Enter your details to proceed.</p>
                <button class="close-btn" onclick="closeModal('paymentModal')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="mpesa-demo">
                    <img src="assets/images/M-Pesa.png" alt="M-Pesa Logo" class="mpesa-logo">
                    <div class="mpesa-header">
                        <h4 id="paymentHowTitle">How it Works</h4>
                    </div>
                    <form class="payment-form">
                        <div class="form-group">
                            <label for="paymentPhone">Phone Number</label>
                            <input type="tel" id="paymentPhone" class="form-input" placeholder="e.g., 0712345678">
                        </div>
                        <div class="form-group">
                            <label for="paymentAmount">Amount (KES)</label>
                            <input type="number" id="paymentAmount" class="form-input" placeholder="e.g., 50">
                        </div>
                        <div class="form-group">
                            <label for="paymentMethod">Payment Method</label>
                            <select id="paymentMethod" class="form-input">
                                <option value="mpesa">M-Pesa</option>
                                <option value="airtel">Airtel Money</option>
                                <option value="card">Card</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary btn-full" onclick="processPayment()">Pay Now</button>
                    </form>
                    <div class="payment-flow">
                        <div class="flow-step">
                            <span class="step-number">1</span>
                            <span>Enter phone number and amount</span>
                        </div>
                        <div class="flow-step">
                            <span class="step-number">2</span>
                            <span>Receive OTP on your phone</span>
                        </div>
                        <div class="flow-step">
                            <span class="step-number">3</span>
                            <span>Confirm payment</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="ocrPreviewModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="ocrPreviewTitle">OCR Preview</h3>
                <h4 id="ocrExtractedTitle">Extracted Text</h4>
                <button class="close-btn" onclick="closeModal('ocrPreviewModal')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="ocr-preview">
                    <textarea id="ocrText" class="form-input" rows="5"></textarea>
                    <button id="ocrSendBtn" class="btn btn-primary btn-full" onclick="submitOcrText()">Send to AI</button>
                </div>
            </div>
        </div>
    </div>

    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="loginModalTitle">Login to StudyBuddy</h3>
                <label id="loginPhoneLabel" for="loginPhone">Phone Number</label>
                <button class="close-btn" onclick="closeModal('loginModal')">√ó</button>
            </div>
            <div class="modal-body">
                <form class="login-form">
                    <div class="form-group">
                        <input type="tel" id="loginPhone" class="form-input" placeholder="e.g., 0712345678">
                    </div>
                    <button type="submit" id="sendOtpBtn" class="btn btn-primary btn-full" onclick="processLogin()">Send OTP</button>
                </form>
            </div>
        </div>
    </div>

    <div id="otpModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="otpModalTitle">Enter OTP</h3>
                <label id="otpInputLabel" for="otpInput">OTP Code</label>
                <button class="close-btn" onclick="closeModal('otpModal')">√ó</button>
            </div>
            <div class="modal-body">
                <form class="otp-form">
                    <div class="form-group">
                        <input type="text" id="otpInput" class="form-input" placeholder="Enter 6-digit OTP">
                    </div>
                    <button type="submit" class="btn btn-primary btn-full" onclick="verifyOTP()">Verify</button>
                </form>
            </div>
        </div>
    </div>

    <div id="investorModal" class="modal investor-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="investorModalTitle">Investor Portal</h3>
                <h4 id="investorMarketTitle">Market Opportunity</h4>
                <h4 id="investorFundingTitle">Funding Needs</h4>
                <button class="close-btn" onclick="closeModal('investorModal')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="investor-presentation">
                    <div class="presentation-section">
                        <h4>Market Opportunity</h4>
                        <ul>
                            <li>8M+ students in Kenya (Primary & Secondary)</li>
                            <li>70% mobile penetration for app accessibility</li>
                            <li>$1B+ EdTech market by 2025</li>
                        </ul>
                        <div class="market-breakdown">
                            <h5>Market Breakdown</h5>
                            <div class="market-item">
                                <span>Primary Students</span>
                                <span>5M</span>
                            </div>
                            <div class="market-item">
                                <span>Secondary Students</span>
                                <span>3M</span>
                            </div>
                            <div class="market-item">
                                <span>Total Addressable Market</span>
                                <span>8M</span>
                            </div>
                        </div>
                    </div>
                    <div class="presentation-section">
                        <h4>Funding Needs</h4>
                        <ul>
                            <li>$500K for AI development and scaling</li>
                            <li>$200K for marketing in Kenya</li>
                            <li>$300K for server and infrastructure</li>
                        </ul>
                        <div class="funding-breakdown">
                            <h5>Funding Allocation</h5>
                            <div class="funding-item">
                                <span>AI Development</span>
                                <span>50%</span>
                            </div>
                            <div class="funding-item">
                                <span>Marketing</span>
                                <span>20%</span>
                            </div>
                            <div class="funding-item">
                                <span>Infrastructure</span>
                                <span>30%</span>
                            </div>
                            <div class="funding-use">
                                <h5>Use of Funds</h5>
                                <div>Enhance AI models for better accuracy</div>
                                <div>Expand to 100+ schools in Kenya</div>
                                <div>Build robust cloud infrastructure</div>
                            </div>
                        </div>
                    </div>
                    <div class="cta-section">
                        <button id="investorDownloadBtn" class="btn btn-primary btn-large" onclick="downloadPitchDeck()">Download Pitch Deck</button>
                        <button id="investorScheduleBtn" class="btn btn-secondary btn-large" onclick="scheduleDemo()">Schedule a Demo</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="canvasPanel" class="modal canvas-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="analyticsTitle">Analytics Dashboard</h3>
                <button class="close-btn" onclick="closeCanvasPanel()">√ó</button>
            </div>
            <div class="modal-body">
                <canvas id="analyticsChart"></canvas>
                <button id="analyticsDownloadBtn" class="btn btn-primary btn-full" onclick="downloadChart()">Download Chart</button>
            </div>
        </div>
    </div>
    <script src="ai-script.js"></script>
    <script>
      // Hamburger menu toggle for mobile/small screens
      document.addEventListener('DOMContentLoaded', function() {
        const menuBtn = document.querySelector('.mobile-menu-btn');
        const navLinks = document.querySelector('.nav-links');
        // Close menu when clicking outside or on a link (optional)
        function closeMenu() {
          navLinks.classList.remove('active');
        }
        if (menuBtn && navLinks) {
          menuBtn.addEventListener('click', function(e) {
            navLinks.classList.toggle('active');
            e.stopPropagation();
          });
          // Optional: close menu when a link is clicked (for better UX)
          navLinks.querySelectorAll('a,button').forEach(el => {
            el.addEventListener('click', closeMenu);
          });
          // Optional: close menu when clicking outside
          document.addEventListener('click', function(e) {
            if (!navLinks.contains(e.target) && !menuBtn.contains(e.target)) {
              navLinks.classList.remove('active');
            }
          });
        }
      });
    </script>
</body>
</html>